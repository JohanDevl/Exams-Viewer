exports.id=119,exports.ids=[119],exports.modules={328:(a,b,c)=>{"use strict";c.d(b,{u:()=>h});var d=c(6787),e=c(9350);let f={totalQuestionsAnswered:0,correctAnswers:0,incorrectAnswers:0,accuracy:0,timeSpent:0,favoriteQuestions:0,examProgress:{},dailyProgress:{},sessions:[]},g=a=>a.toISOString().split("T")[0],h=(0,d.v)()((0,e.Zr)((a,b)=>({statistics:f,recordAnswer:(c,d,e)=>{let{statistics:f}=b(),h=g(new Date),i=f.totalQuestionsAnswered+1,j=f.correctAnswers+ +!!d,k=f.incorrectAnswers+ +!d,l={...f.examProgress};l[c]||(l[c]={answered:0,correct:0,total:0,lastAccessed:new Date}),l[c]={...l[c],answered:l[c].answered+1,correct:l[c].correct+ +!!d,lastAccessed:new Date};let m={...f.dailyProgress};m[h]||(m[h]={questionsAnswered:0,timeSpent:0,accuracy:0});let n=m[h],o=n.questionsAnswered+1,p=Math.round(n.accuracy/100*n.questionsAnswered)+ +!!d;m[h]={questionsAnswered:o,timeSpent:n.timeSpent+e,accuracy:o>0?p/o*100:0},a({statistics:{...f,totalQuestionsAnswered:i,correctAnswers:j,incorrectAnswers:k,accuracy:i>0?j/i*100:0,timeSpent:f.timeSpent+e,examProgress:l,dailyProgress:m}})},recordQuestionAccess:c=>{let{statistics:d}=b(),e={...d.examProgress};e[c]?e[c]={...e[c],lastAccessed:new Date}:e[c]={answered:0,correct:0,total:0,lastAccessed:new Date},a({statistics:{...d,examProgress:e}})},addFavorite:c=>{let{statistics:d}=b();a({statistics:{...d,favoriteQuestions:d.favoriteQuestions+1}})},removeFavorite:c=>{let{statistics:d}=b();a({statistics:{...d,favoriteQuestions:Math.max(0,d.favoriteQuestions-1)}})},recordTimeSpent:(c,d)=>{let{statistics:e}=b(),f=g(new Date),h=e.timeSpent+d,i={...e.dailyProgress};i[f]||(i[f]={questionsAnswered:0,timeSpent:0,accuracy:0}),i[f]={...i[f],timeSpent:i[f].timeSpent+d},a({statistics:{...e,timeSpent:h,dailyProgress:i}})},getExamStatistics:a=>{let{statistics:c}=b(),d=c.examProgress[a];if(!d)return{answered:0,correct:0,total:0,accuracy:0};let e=d.answered>0?d.correct/d.answered*100:0;return{answered:d.answered,correct:d.correct,total:d.total,accuracy:e,lastAccessed:d.lastAccessed}},getOverallStatistics:()=>{let{statistics:a}=b(),c=Object.keys(a.examProgress).length;return{totalAnswered:a.totalQuestionsAnswered,totalCorrect:a.correctAnswers,overallAccuracy:a.accuracy,totalTimeSpent:a.timeSpent,favoriteCount:a.favoriteQuestions,examsStarted:c}},getDailyStatistics:a=>{let{statistics:c}=b(),d=g(a||new Date);return c.dailyProgress[d]||{questionsAnswered:0,timeSpent:0,accuracy:0}},getWeeklyProgress:()=>{let{statistics:a}=b(),c=new Date,d=[];for(let b=6;b>=0;b--){let e=new Date(c);e.setDate(e.getDate()-b);let f=g(e),h=a.dailyProgress[f]||{questionsAnswered:0,timeSpent:0,accuracy:0};d.push({date:f,questionsAnswered:h.questionsAnswered,accuracy:h.accuracy,timeSpent:h.timeSpent})}return d},getTopPerformingExams:(a=5)=>{let{statistics:c}=b();return Object.entries(c.examProgress).filter(([a,b])=>b.answered>0).map(([a,b])=>({examCode:a,accuracy:b.correct/b.answered*100,questionsAnswered:b.answered})).sort((a,b)=>b.accuracy-a.accuracy).slice(0,a)},resetStatistics:()=>{a({statistics:f})},resetExamStatistics:c=>{let{statistics:d}=b(),e={...d.examProgress};e[c]&&(delete e[c],a({statistics:{...d,examProgress:e}}))},exportStatistics:()=>{let{statistics:a}=b();return JSON.stringify(a,null,2)},startSession:(c,d)=>{let e=`${c}-${Date.now()}`,f={id:e,examCode:c,examName:d,startTime:new Date,questionsAnswered:0,correctAnswers:0,accuracy:0,timeSpent:0,completionPercentage:0,difficultyBreakdown:{}},{statistics:g}=b();return a({statistics:{...g,sessions:[...g.sessions,f]}}),e},endSession:(c,d)=>{let{statistics:e}=b(),f=e.sessions.map(a=>a.id===c?{...a,endTime:new Date,questionsAnswered:d.questionsAnswered,correctAnswers:d.correctAnswers,accuracy:d.questionsAnswered>0?d.correctAnswers/d.questionsAnswered*100:0,timeSpent:d.timeSpent,completionPercentage:d.completionPercentage,difficultyBreakdown:d.difficultyBreakdown}:a);a({statistics:{...e,sessions:f}})},updateCurrentSession:(c,d)=>{let{statistics:e}=b(),f=e.sessions.map(a=>a.id===c?{...a,questionsAnswered:d.questionsAnswered,correctAnswers:d.correctAnswers,accuracy:d.questionsAnswered>0?d.correctAnswers/d.questionsAnswered*100:0,timeSpent:d.timeSpent,completionPercentage:d.completionPercentage,difficultyBreakdown:d.difficultyBreakdown}:a);a({statistics:{...e,sessions:f}})},getCurrentSession:a=>{let{statistics:c}=b();return c.sessions.find(b=>b.examCode===a&&!b.endTime)||null},getSessionHistory:a=>{let{statistics:c}=b(),d=[...c.sessions].filter(a=>a.endTime);return a&&(d=d.filter(b=>b.examCode===a)),d.sort((a,b)=>new Date(b.endTime).getTime()-new Date(a.endTime).getTime())},finalizePendingSessions:()=>{let{statistics:c}=b(),d=new Date,e=c.sessions.map(a=>!a.endTime&&d.getTime()-new Date(a.startTime).getTime()>36e5?{...a,endTime:new Date(new Date(a.startTime).getTime()+a.timeSpent)}:a);a({statistics:{...c,sessions:e}})},clearSessionHistory:c=>{let{statistics:d}=b(),e=[...d.sessions];if(c){let a=e.filter(a=>a.examCode===c).sort((a,b)=>new Date(b.startTime).getTime()-new Date(a.startTime).getTime())[0];e=e.filter(a=>a.examCode!==c),a&&e.push(a)}else e=Object.values(e.reduce((a,b)=>(a[b.examCode]||(a[b.examCode]=[]),a[b.examCode].push(b),a),{})).map(a=>a.sort((a,b)=>new Date(b.startTime).getTime()-new Date(a.startTime).getTime())[0]);a({statistics:{...d,sessions:e}})},importStatistics:b=>{try{let c=JSON.parse(b);if("number"==typeof c.totalQuestionsAnswered&&"number"==typeof c.correctAnswers&&"number"==typeof c.incorrectAnswers)return c.sessions||(c.sessions=[]),a({statistics:c}),!0;return!1}catch{return!1}}}),{name:"statistics-store"}))},1135:()=>{},1427:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,5227,23)),Promise.resolve().then(c.t.bind(c,6346,23)),Promise.resolve().then(c.t.bind(c,7924,23)),Promise.resolve().then(c.t.bind(c,99,23)),Promise.resolve().then(c.t.bind(c,8243,23)),Promise.resolve().then(c.t.bind(c,8827,23)),Promise.resolve().then(c.t.bind(c,2763,23)),Promise.resolve().then(c.t.bind(c,7173,23)),Promise.resolve().then(c.bind(c,5587))},1544:(a,b,c)=>{"use strict";c.d(b,{ThemeInitializer:()=>e}),c(3210);var d=c(7141);function e(){let{applyTheme:a,applyDefaultSidebarPosition:b,settings:c}=(0,d.C$)();return null}},2055:(a,b,c)=>{"use strict";c.d(b,{ToastProvider:()=>p});var d=c(687),e=c(3210),f=c(7141),g=c(5336),h=c(5071),i=c(3649),j=c(6882),k=c(1860),l=c(4780);let m={success:g.A,error:h.A,warning:i.A,info:j.A},n={success:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900/20 dark:border-green-800 dark:text-green-300",error:"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-800 dark:text-red-300",warning:"bg-yellow-50 border-yellow-200 text-yellow-800 dark:bg-yellow-900/20 dark:border-yellow-800 dark:text-yellow-300",info:"bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-300"};function o({type:a,title:b,description:c,duration:f,onClose:g}){let[h,i]=(0,e.useState)(!1),[j,o]=(0,e.useState)(!1),p=m[a];return(0,d.jsx)("div",{className:(0,l.cn)("transform transition-all duration-200 ease-in-out will-change-transform","border rounded-lg shadow-lg p-3 sm:p-4 max-w-sm w-full",n[a],h&&!j?"translate-y-0 opacity-100":"-translate-y-full opacity-0"),role:"alert","aria-live":"polite",style:{transform:h&&!j?"translate3d(0, 0, 0)":"translate3d(0, -100%, 0)",position:"relative",zIndex:1},children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(p,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"font-medium text-sm",children:b}),c&&(0,d.jsx)("p",{className:"text-sm opacity-90 mt-1",children:c})]}),(0,d.jsx)("button",{onClick:()=>{o(!0),setTimeout(()=>{g()},200)},className:"flex-shrink-0 p-1 rounded-md hover:bg-black/5 dark:hover:bg-white/5 transition-colors","aria-label":"Close notification",children:(0,d.jsx)(k.A,{className:"h-4 w-4"})})]})})}function p(){let{toasts:a,removeToast:b}=(0,f.C$)(),[c,g]=(0,e.useState)(!1);return(0,d.jsx)("div",{className:`fixed z-50 flex flex-col gap-2 max-w-sm transition-all duration-200 ${c?"top-2 left-2 right-2 max-w-none":"top-4 right-4"}`,children:a.map(a=>(0,d.jsx)(o,{...a,onClose:()=>b(a.id)},a.id))})}},2692:(a,b,c)=>{"use strict";c.d(b,{F:()=>g});var d=c(687);c(3210);var e=c(8123),f=c(4780);function g({className:a,children:b,...c}){return(0,d.jsxs)(e.bL,{"data-slot":"scroll-area",className:(0,f.cn)("relative",a),...c,children:[(0,d.jsx)(e.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:b}),(0,d.jsx)(h,{}),(0,d.jsx)(e.OK,{})]})}function h({className:a,orientation:b="vertical",...c}){return(0,d.jsx)(e.VM,{"data-slot":"scroll-area-scrollbar",orientation:b,className:(0,f.cn)("flex touch-none p-px transition-colors select-none","vertical"===b&&"h-full w-2.5 border-l border-l-transparent","horizontal"===b&&"h-2.5 flex-col border-t border-t-transparent",a),...c,children:(0,d.jsx)(e.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}},2736:(a,b,c)=>{"use strict";c.d(b,{Y:()=>f});var d=c(687),e=c(3210);function f({children:a,fallback:b=null}){let[c,f]=(0,e.useState)(!1);return c?(0,d.jsx)(d.Fragment,{children:a}):(0,d.jsx)(d.Fragment,{children:b})}},3466:(a,b,c)=>{Promise.resolve().then(c.bind(c,7628)),Promise.resolve().then(c.bind(c,6482)),Promise.resolve().then(c.bind(c,7714)),Promise.resolve().then(c.bind(c,4485))},3562:(a,b,c)=>{"use strict";c.d(b,{k:()=>g});var d=c(687);c(3210);var e=c(5177),f=c(4780);function g({className:a,value:b,...c}){return(0,d.jsx)(e.bL,{"data-slot":"progress",className:(0,f.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",a),...c,children:(0,d.jsx)(e.C1,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(b||0)}%)`}})})}},4431:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>m,metadata:()=>k,viewport:()=>l});var d=c(7413),e=c(1001),f=c.n(e);c(1135);var g=c(7714),h=c(4485),i=c(6482),j=c(7628);let k={title:"Exams Viewer - ServiceNow Certification Training",description:"Modern platform for ServiceNow certification exam preparation with practice questions, statistics, and progress tracking.",keywords:"ServiceNow, certification, exam, training, CAD, CSA, CIS",authors:[{name:"Exams Viewer Team"}],creator:"Exams Viewer",publisher:"Exams Viewer",formatDetection:{email:!1,address:!1,telephone:!1},metadataBase:new URL("https://exams-viewer.app"),openGraph:{title:"Exams Viewer - ServiceNow Certification Training",description:"Modern platform for ServiceNow certification exam preparation",type:"website",locale:"en_US"},twitter:{card:"summary_large_image",title:"Exams Viewer - ServiceNow Certification Training",description:"Modern platform for ServiceNow certification exam preparation"},manifest:"/manifest.json",icons:{icon:[{url:"/favicon.ico",sizes:"any"},{url:"/favicon.svg",type:"image/svg+xml"}]}},l={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1,themeColor:[{media:"(prefers-color-scheme: light)",color:"#ffffff"},{media:"(prefers-color-scheme: dark)",color:"#0f172a"}]};function m({children:a}){return(0,d.jsx)("html",{lang:"fr",suppressHydrationWarning:!0,children:(0,d.jsxs)("body",{className:`${f().variable} font-sans antialiased`,children:[(0,d.jsx)(g.ThemeInitializer,{}),(0,d.jsx)(h.ToastProvider,{}),(0,d.jsx)(i.ModalsProvider,{}),(0,d.jsx)(j.KeyboardShortcutsProvider,{}),(0,d.jsx)("div",{id:"root",className:"min-h-screen bg-background text-foreground",children:a})]})})}},4485:(a,b,c)=>{"use strict";c.d(b,{ToastProvider:()=>d});let d=(0,c(1369).registerClientReference)(function(){throw Error("Attempted to call ToastProvider() from the server but ToastProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/johan/Developer/Worktrees/exams-viewer-beta/.conductor/belgrade/src/components/providers/ToastProvider.tsx","ToastProvider")},4493:(a,b,c)=>{"use strict";c.d(b,{BT:()=>i,Wu:()=>j,ZB:()=>h,Zp:()=>f,aR:()=>g});var d=c(687);c(3210);var e=c(4780);function f({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card",className:(0,e.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...b})}function g({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-header",className:(0,e.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...b})}function h({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-title",className:(0,e.cn)("leading-none font-semibold",a),...b})}function i({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-description",className:(0,e.cn)("text-muted-foreground text-sm",a),...b})}function j({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-content",className:(0,e.cn)("px-6",a),...b})}},4780:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(9384),e=c(2348);function f(...a){return(0,e.QP)((0,d.$)(a))}},6416:(a,b,c)=>{"use strict";c.d(b,{s:()=>f});var d=c(6787),e=c(9350);let f=(0,d.v)()((0,e.Zr)((a,b)=>({currentExam:null,currentExamInfo:null,currentQuestionIndex:0,isLoading:!1,error:null,sessionId:null,questionStates:{},examData:{},searchFilters:{query:"",status:"all",difficulty:"all",favorites:!1,category:"all"},filteredQuestionIndices:[],loadExam:async c=>{a({isLoading:!0,error:null});try{let d=await fetch("/data/manifest.json"),e=(await d.json()).exams.find(a=>a.code===c);if(!e)throw Error(`Exam ${c} not found`);let f=await fetch(`/data/${c}/exam.json`),g=await f.json(),h=b(),i=!h.sessionId,j={};g.questions.forEach((a,b)=>{let d=h.examData[c],e=d?.[b],f=h.questionStates[b];i?j[b]={status:"unanswered",isFavorite:e?.isFavorite||!1,difficulty:e?.difficulty||null,notes:e?.notes,category:e?.category}:j[b]={status:"unanswered",isFavorite:e?.isFavorite||!1,difficulty:e?.difficulty||null,notes:e?.notes,category:e?.category,firstAnswer:f?.firstAnswer}});let k=`${c}-${Date.now()}`;a({currentExam:g,currentExamInfo:e,currentQuestionIndex:0,sessionId:k,questionStates:j,isLoading:!1,filteredQuestionIndices:Array.from({length:g.questions.length},(a,b)=>b)}),b().updateFilteredQuestions()}catch(b){a({error:b instanceof Error?b.message:"Error loading exam",isLoading:!1})}},setCurrentQuestion:c=>{let{currentExam:d}=b();d&&c>=0&&c<d.questions.length&&a({currentQuestionIndex:c})},submitAnswer:(c,d)=>{let{currentExam:e,questionStates:f}=b();if(!e)return;let g=e.questions[c];if(!g)return;let h=!1;if(g.most_voted){let a=g.most_voted.split("");h=d.length===a.length&&d.every(b=>a.includes(b))&&a.every(a=>d.includes(a))}let i={selectedAnswers:d,timestamp:new Date,isCorrect:h},j=f[c];a({questionStates:{...f,[c]:{...j,status:h?"correct":"incorrect",userAnswer:i,firstAnswer:j?.firstAnswer?j.firstAnswer:i}}})},markQuestionAsPreview:c=>{let{questionStates:d}=b(),e=d[c],f=!e?.firstAnswer,g={selectedAnswers:[],timestamp:new Date,isCorrect:void 0};a({questionStates:{...d,[c]:{...e,status:"preview",firstAnswer:f?g:e?.firstAnswer}}})},resetQuestion:c=>{let{questionStates:d}=b(),e=d[c];e?.userAnswer&&a({questionStates:{...d,[c]:{...e,status:"unanswered",userAnswer:void 0}}})},toggleFavorite:c=>{let{questionStates:d,examData:e,currentExamInfo:f}=b();if(!f)return;let g=d[c],h=!g?.isFavorite,i={...d,[c]:{...g,isFavorite:h}},j=f.code;a({questionStates:i,examData:{...e,[j]:{...e[j],[c]:{...e[j]?.[c],isFavorite:h}}}})},setQuestionDifficulty:(c,d)=>{let{questionStates:e}=b();a({questionStates:{...e,[c]:{...e[c],difficulty:d}}})},setQuestionNotes:(c,d)=>{let{questionStates:e}=b();a({questionStates:{...e,[c]:{...e[c],notes:d}}})},setQuestionCategory:(c,d)=>{let{questionStates:e}=b();a({questionStates:{...e,[c]:{...e[c],category:d}}})},setSearchFilters:c=>{let{searchFilters:d,currentQuestionIndex:e}=b();a({searchFilters:{...d,...c}}),b().updateFilteredQuestions();let{filteredQuestionIndices:f}=b();f.length>0&&!f.includes(e)&&a({currentQuestionIndex:f[0]})},updateFilteredQuestions:()=>{let{currentExam:c,questionStates:d,searchFilters:e}=b();if(!c)return;let f=Array.from({length:c.questions.length},(a,b)=>b);if("all"!==e.status&&(f=f.filter(a=>b().getQuestionStatus(a)===e.status)),"all"!==e.difficulty&&(f=f.filter(a=>d[a]?.difficulty===e.difficulty)),e.favorites&&(f=f.filter(a=>d[a]?.isFavorite)),"all"!==e.category&&(f=f.filter(a=>d[a]?.category===e.category)),e.query.trim()){let a=e.query.toLowerCase();f=f.filter(b=>{let d=c.questions[b];return d.question.toLowerCase().includes(a)||d.answers.some(b=>b.toLowerCase().includes(a))})}a({filteredQuestionIndices:f})},resetExam:()=>{let{currentExamInfo:c,sessionId:d,questionStates:e}=b();a({currentExam:null,currentExamInfo:null,currentQuestionIndex:0,sessionId:null,questionStates:{},searchFilters:{query:"",status:"all",difficulty:"all",favorites:!1,category:"all"},filteredQuestionIndices:[],error:null})},getQuestionStatus:a=>{let{questionStates:c}=b();return c[a]?.status||"unanswered"},getFirstAnswerStatus:a=>{let{questionStates:c}=b(),d=c[a];return d?.firstAnswer?void 0===d.firstAnswer.isCorrect?"preview":d.firstAnswer.isCorrect?"correct":"incorrect":d?.status==="preview"?"preview":"unanswered"},getProgress:()=>{let{currentExam:a,questionStates:c}=b();if(!a)return{answered:0,correct:0,total:0};let d=a.questions.length,e=0,f=0;return Object.values(c).forEach(a=>{a.firstAnswer&&(e++,a.firstAnswer.isCorrect&&f++)}),{answered:e,correct:f,total:d}},goToNextQuestion:()=>{let{currentQuestionIndex:c,filteredQuestionIndices:d}=b(),e=d.indexOf(c);e>=0&&e<d.length-1&&a({currentQuestionIndex:d[e+1]})},goToPreviousQuestion:()=>{let{currentQuestionIndex:c,filteredQuestionIndices:d}=b(),e=d.indexOf(c);e>0&&a({currentQuestionIndex:d[e-1]})},goToRandomQuestion:()=>{let{filteredQuestionIndices:c}=b();if(c.length>0){let b=Math.floor(Math.random()*c.length);a({currentQuestionIndex:c[b]})}}}),{name:"exam-store",partialize:a=>({examData:a.examData,searchFilters:a.searchFilters})}))},6482:(a,b,c)=>{"use strict";c.d(b,{ModalsProvider:()=>d});let d=(0,c(1369).registerClientReference)(function(){throw Error("Attempted to call ModalsProvider() from the server but ModalsProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/johan/Developer/Worktrees/exams-viewer-beta/.conductor/belgrade/src/components/providers/ModalsProvider.tsx","ModalsProvider")},6514:(a,b,c)=>{Promise.resolve().then(c.bind(c,9073)),Promise.resolve().then(c.bind(c,6655)),Promise.resolve().then(c.bind(c,1544)),Promise.resolve().then(c.bind(c,2055))},6655:(a,b,c)=>{"use strict";c.d(b,{ModalsProvider:()=>aG});var d=c(687),e=c(7760),f=c(4398),g=c(6349),h=c(5334),i=c(3210),j=c(6134),k=c(1860),l=c(4780);function m({...a}){return(0,d.jsx)(j.bL,{"data-slot":"dialog",...a})}function n({...a}){return(0,d.jsx)(j.ZL,{"data-slot":"dialog-portal",...a})}function o({className:a,...b}){return(0,d.jsx)(j.hJ,{"data-slot":"dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function p({className:a,children:b,showCloseButton:c=!0,...e}){return(0,d.jsxs)(n,{"data-slot":"dialog-portal",children:[(0,d.jsx)(o,{}),(0,d.jsxs)(j.UC,{"data-slot":"dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...e,children:[b,c&&(0,d.jsxs)(j.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,d.jsx)(k.A,{}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function q({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",a),...b})}function r({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"dialog-footer",className:(0,l.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...b})}function s({className:a,...b}){return(0,d.jsx)(j.hE,{"data-slot":"dialog-title",className:(0,l.cn)("text-lg leading-none font-semibold",a),...b})}function t({className:a,...b}){return(0,d.jsx)(j.VY,{"data-slot":"dialog-description",className:(0,l.cn)("text-muted-foreground text-sm",a),...b})}var u=c(9523),v=c(6834),w=c(2692),x=c(7141),y=c(6416);function z(){let{isFavoritesModalOpen:a,closeFavoritesModal:b}=(0,x.C$)(),{currentExam:c,currentExamInfo:i,questionStates:j,setCurrentQuestion:k,getQuestionStatus:l}=(0,y.s)(),n=c?.questions.map((a,b)=>({question:a,index:b,isFavorite:j[b]?.isFavorite||!1,status:l(b),difficulty:j[b]?.difficulty,notes:j[b]?.notes})).filter(a=>a.isFavorite)||[];return(0,d.jsx)(m,{open:a,onOpenChange:b,children:(0,d.jsxs)(p,{className:"max-w-4xl max-h-[80vh]",children:[(0,d.jsxs)(q,{children:[(0,d.jsxs)(s,{className:"flex items-center gap-2",children:[(0,d.jsx)(e.A,{className:"h-5 w-5 text-red-500"}),"Favorite Questions",i&&(0,d.jsx)(v.E,{variant:"outline",children:i.name})]}),(0,d.jsx)(t,{children:"View and manage your saved favorite questions"})]}),(0,d.jsx)("div",{className:"space-y-4",children:0===n.length?(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)(e.A,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),(0,d.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No favorite questions"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Add questions to your favorites by clicking the heart icon"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"flex items-center justify-between",children:(0,d.jsxs)("p",{className:"text-sm text-muted-foreground",children:[n.length," favorite question",n.length>1?"s":""]})}),(0,d.jsx)(w.F,{className:"h-[400px] w-full",children:(0,d.jsx)("div",{className:"space-y-3",children:n.map(({question:a,index:c,status:e,difficulty:i,notes:j})=>(0,d.jsx)("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:(0,d.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsxs)(v.E,{variant:"outline",className:"text-xs",children:["Question ",c+1]}),(0,d.jsx)(v.E,{className:(a=>{switch(a){case"correct":return"bg-green-100 text-green-800 border-green-200";case"incorrect":return"bg-red-100 text-red-800 border-red-200";case"answered":return"bg-blue-100 text-blue-800 border-blue-200";case"preview":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(e),children:(a=>{switch(a){case"correct":return"Correct";case"incorrect":return"Incorrect";case"answered":return"Answered";case"preview":return"Preview";default:return"Unanswered"}})(e)}),i&&(0,d.jsxs)(v.E,{className:(a=>{switch(a){case"easy":return"bg-green-100 text-green-800 border-green-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"hard":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(i),children:[(0,d.jsx)(f.A,{className:"h-3 w-3 mr-1"}),i]})]}),(0,d.jsx)("p",{className:"text-sm mb-3 line-clamp-3",children:a.question}),j&&(0,d.jsxs)("div",{className:"mb-3 p-2 bg-muted rounded text-xs",children:[(0,d.jsx)(g.A,{className:"h-3 w-3 inline mr-1"}),(0,d.jsx)("strong",{children:"Note:"})," ",j]}),(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:[a.answers.length," possible answer",a.answers.length>1?"s":""]})]}),(0,d.jsxs)(u.$,{variant:"outline",size:"sm",onClick:()=>{k(c),b()},className:"shrink-0",children:[(0,d.jsx)(h.A,{className:"h-4 w-4 mr-1"}),"View"]})]})},c))})})]})})]})})}var A=c(9916),B=c(5541),C=c(228),D=c(8233),E=c(3411),F=c(8947),G=c(6561),H=c(3562),I=c(4493);let J=(0,i.createContext)(null);function K({value:a,defaultValue:b,onValueChange:c,children:e,className:f}){let[g,h]=i.useState(b||"");return(0,d.jsx)(J.Provider,{value:{value:void 0!==a?a:g,onValueChange:b=>{void 0===a&&h(b),c?.(b)}},children:(0,d.jsx)("div",{className:(0,l.cn)("space-y-4",f),children:e})})}function L({children:a,className:b}){return(0,d.jsx)("div",{className:(0,l.cn)("inline-flex items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",b),children:a})}function M({value:a,children:b,className:c}){let e=(0,i.useContext)(J);if(!e)throw Error("TabsTrigger must be used within Tabs");let f=e.value===a;return(0,d.jsx)("button",{type:"button",onClick:()=>e.onValueChange(a),className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",f?"bg-background text-foreground shadow-sm":"hover:bg-muted/80",c),children:b})}function N({value:a,children:b,className:c}){let e=(0,i.useContext)(J);if(!e)throw Error("TabsContent must be used within Tabs");return e.value!==a?null:(0,d.jsx)("div",{className:(0,l.cn)("ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",c),children:b})}var O=c(328);function P(){let{isStatisticsModalOpen:a,closeStatisticsModal:b}=(0,x.C$)(),{currentExam:c,currentExamInfo:h,questionStates:i,getProgress:j}=(0,y.s)(),{getSessionHistory:k}=(0,O.u)(),l=j(),n=l.answered>0?Math.round(l.correct/l.answered*100):0,o=l.total>0?Math.round(l.answered/l.total*100):0,r={easy:{total:0,correct:0,answered:0},medium:{total:0,correct:0,answered:0},hard:{total:0,correct:0,answered:0},unrated:{total:0,correct:0,answered:0}},z={correct:0,incorrect:0,unanswered:0,preview:0,favorites:0};Object.entries(i).forEach(([a,b])=>{let c=b.difficulty||"unrated";switch(c in r&&(r[c].total++,"unanswered"!==b.status&&(r[c].answered++,"correct"===b.status&&r[c].correct++)),b.status){case"correct":z.correct++;break;case"incorrect":z.incorrect++;break;case"preview":z.preview++;break;default:z.unanswered++}b.isFavorite&&z.favorites++});let J=({title:a,value:b,subtitle:c,icon:e,color:f="text-muted-foreground"})=>(0,d.jsxs)(I.Zp,{className:"hover:shadow-md transition-all duration-200",children:[(0,d.jsxs)(I.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(I.ZB,{className:"text-sm font-medium text-muted-foreground",children:a}),(0,d.jsx)(e,{className:`h-4 w-4 ${f}`})]}),(0,d.jsxs)(I.Wu,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold mb-1",children:b}),c&&(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:c})]})]}),P=({difficulty:a,data:b,color:c})=>{let e=b.answered>0?Math.round(b.correct/b.answered*100):0;return(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(f.A,{className:`h-4 w-4 ${c}`}),(0,d.jsx)("span",{className:"text-sm font-medium capitalize",children:a})]}),(0,d.jsxs)(v.E,{variant:"outline",className:"text-xs",children:[b.correct,"/",b.answered," (",e,"%)"]})]}),(0,d.jsx)(H.k,{value:e,className:"h-2"}),(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:[b.total," questions total"]})]})};return(0,d.jsx)(m,{open:a,onOpenChange:b,children:(0,d.jsxs)(p,{className:"max-w-6xl max-h-[80vh]",children:[(0,d.jsxs)(q,{children:[(0,d.jsxs)(s,{className:"flex items-center gap-2",children:[(0,d.jsx)(E.A,{className:"h-5 w-5 text-blue-500"}),"Performance Statistics",h&&(0,d.jsx)(v.E,{variant:"outline",children:h.name})]}),(0,d.jsx)(t,{children:"View detailed statistics and performance metrics for your exam progress"})]}),(0,d.jsx)(w.F,{className:"h-[600px] w-full",children:c?(0,d.jsxs)(K,{defaultValue:"current",className:"w-full",children:[(0,d.jsxs)(L,{className:"grid w-full grid-cols-2",children:[(0,d.jsxs)(M,{value:"current",className:"flex items-center gap-2",children:[(0,d.jsx)(E.A,{className:"h-4 w-4"}),"Current Session"]}),(0,d.jsxs)(M,{value:"history",className:"flex items-center gap-2",children:[(0,d.jsx)(A.A,{className:"h-4 w-4"}),"Session History"]})]}),(0,d.jsxs)(N,{value:"current",className:"space-y-6 mt-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,d.jsx)(J,{title:"Progress",value:`${o}%`,subtitle:`${l.answered}/${l.total} questions`,icon:B.A,color:"text-blue-500"}),(0,d.jsx)(J,{title:"Accuracy",value:`${n}%`,subtitle:`${l.correct} correct answers`,icon:F.A,color:"text-green-500"}),(0,d.jsx)(J,{title:"Remaining",value:l.total-l.answered,subtitle:"Questions left",icon:g.A,color:"text-orange-500"}),(0,d.jsx)(J,{title:"Favorites",value:z.favorites,subtitle:"Saved questions",icon:e.A,color:"text-red-500"})]}),(0,d.jsxs)(I.Zp,{children:[(0,d.jsx)(I.aR,{children:(0,d.jsxs)(I.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(G.A,{className:"h-5 w-5"}),"Overall Progress"]})}),(0,d.jsxs)(I.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{children:"General progress"}),(0,d.jsxs)("span",{children:[o,"%"]})]}),(0,d.jsx)(H.k,{value:o,className:"h-3"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{children:"Accuracy"}),(0,d.jsxs)("span",{children:[n,"%"]})]}),(0,d.jsx)(H.k,{value:n,className:"h-3"})]})]})]}),(0,d.jsxs)(I.Zp,{children:[(0,d.jsx)(I.aR,{children:(0,d.jsxs)(I.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(f.A,{className:"h-5 w-5"}),"Performance by Difficulty"]})}),(0,d.jsxs)(I.Wu,{className:"space-y-4",children:[(0,d.jsx)(P,{difficulty:"Easy",data:r.easy,color:"text-green-500"}),(0,d.jsx)(P,{difficulty:"Medium",data:r.medium,color:"text-yellow-500"}),(0,d.jsx)(P,{difficulty:"Hard",data:r.hard,color:"text-red-500"}),(0,d.jsx)(P,{difficulty:"Unrated",data:r.unrated,color:"text-gray-500"})]})]}),(0,d.jsxs)(I.Zp,{children:[(0,d.jsx)(I.aR,{children:(0,d.jsx)(I.ZB,{children:"Answer Distribution"})}),(0,d.jsx)(I.Wu,{children:(0,d.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-green-600",children:z.correct}),(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:"Correct"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-red-600",children:z.incorrect}),(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:"Incorrect"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:z.preview}),(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:"Previewed"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:z.unanswered}),(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:"Unanswered"})]})]})})]}),h&&(0,d.jsxs)(I.Zp,{children:[(0,d.jsx)(I.aR,{children:(0,d.jsx)(I.ZB,{children:"Exam Information"})}),(0,d.jsx)(I.Wu,{children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium",children:"Exam code"}),(0,d.jsx)("div",{className:"text-lg",children:h.code})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium",children:"Name"}),(0,d.jsx)("div",{className:"text-lg",children:h.name})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium",children:"Total questions"}),(0,d.jsx)("div",{className:"text-lg",children:h.questionCount})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium",children:"Last updated"}),(0,d.jsx)("div",{className:"text-lg",children:new Date(h.lastUpdated).toLocaleDateString("en-US")})]})]})})]})]}),(0,d.jsx)(N,{value:"history",className:"space-y-6 mt-6",children:(0,d.jsx)(({examCode:a})=>{let b=(0,O.u)(),c=b.getSessionHistory(a),e=b.getSessionHistory(),{clearSessionHistory:f}=(0,O.u)(),g=(()=>{if(c.length<2)return null;let a=c.slice(0,5),b=a.map(a=>a.accuracy),d=a.map(a=>a.completionPercentage);return{accuracy:{current:b[0]||0,previous:b[1]||0,trend:b.length>1?b[0]-b[1]:0},completion:{current:d[0]||0,previous:d[1]||0,trend:d.length>1?d[0]-d[1]:0}}})();return 0===c.length?(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)(A.A,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),(0,d.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No session history"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Complete some exam sessions to see your progress evolution"})]}):(0,d.jsxs)("div",{className:"space-y-6",children:[g&&(0,d.jsxs)(I.Zp,{children:[(0,d.jsx)(I.aR,{children:(0,d.jsxs)(I.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(B.A,{className:"h-5 w-5"}),"Performance Evolution"]})}),(0,d.jsx)(I.Wu,{children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,d.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Accuracy Trend"}),(0,d.jsxs)("div",{className:"text-2xl font-bold",children:[g.accuracy.current.toFixed(1),"%"]}),(0,d.jsxs)("div",{className:`text-sm flex items-center justify-center gap-1 ${g.accuracy.trend>=0?"text-green-600":"text-red-600"}`,children:[g.accuracy.trend>=0?"↗":"↘",Math.abs(g.accuracy.trend).toFixed(1),"% vs last session"]})]}),(0,d.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,d.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Completion Trend"}),(0,d.jsxs)("div",{className:"text-2xl font-bold",children:[g.completion.current.toFixed(1),"%"]}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:"exam progress"}),(0,d.jsxs)("div",{className:`text-sm flex items-center justify-center gap-1 ${g.completion.trend>=0?"text-green-600":"text-red-600"}`,children:[g.completion.trend>=0?"↗":"↘",Math.abs(g.completion.trend).toFixed(1),"% vs last session"]})]})]})})]}),(0,d.jsxs)(I.Zp,{children:[(0,d.jsx)(I.aR,{children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)(I.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(C.A,{className:"h-5 w-5"}),"Session History (",c.length," sessions)"]}),c.length>0&&(0,d.jsxs)(u.$,{variant:"outline",size:"sm",onClick:()=>{let b=a?`Clear session history for ${a}? (keeps latest session only)`:"Clear session history for all exams? (keeps latest session for each exam)";window.confirm(b)&&f(a)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[(0,d.jsx)(D.A,{className:"h-4 w-4 mr-2"}),"Clear Old Sessions"]})]})}),(0,d.jsx)(I.Wu,{children:(0,d.jsx)("div",{className:"space-y-3",children:c.map((a,b)=>(0,d.jsxs)("div",{className:"p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"font-medium flex items-center gap-2",children:[a.examName,!a.endTime&&(0,d.jsx)(v.E,{variant:"secondary",className:"text-xs",children:"En cours"})]}),(0,d.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Started: ",new Date(a.startTime).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),(0,d.jsx)(v.E,{variant:0===b?"default":"outline",children:0===b?"Latest":`#${b+1}`})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsxs)("div",{className:"text-lg font-semibold text-blue-600",children:[a.completionPercentage.toFixed(0),"%"]}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:"Completion"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsxs)("div",{className:"text-lg font-semibold text-green-600",children:[a.accuracy.toFixed(1),"%"]}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:"Accuracy"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-lg font-semibold text-purple-600",children:a.questionsAnswered}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:"Questions"})]})]}),Object.keys(a.difficultyBreakdown).length>0&&(0,d.jsxs)("div",{className:"mt-3 pt-3 border-t",children:[(0,d.jsx)("div",{className:"text-xs text-muted-foreground mb-2",children:"Difficulty Performance"}),(0,d.jsx)("div",{className:"flex gap-2 flex-wrap",children:Object.entries(a.difficultyBreakdown).map(([a,b])=>(0,d.jsxs)(v.E,{variant:"outline",className:"text-xs",children:[a,": ",b.correct,"/",b.answered]},a))})]})]},a.id))})})]}),a&&e.length>c.length&&(0,d.jsxs)(I.Zp,{children:[(0,d.jsx)(I.aR,{children:(0,d.jsx)(I.ZB,{children:"Overall Progress Across All Exams"})}),(0,d.jsx)(I.Wu,{children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-2xl font-bold mb-2",children:e.length}),(0,d.jsx)("div",{className:"text-muted-foreground",children:"Total sessions completed"}),(0,d.jsxs)("div",{className:"mt-4 text-sm text-muted-foreground",children:["Average accuracy: ",(e.reduce((a,b)=>a+b.accuracy,0)/e.length).toFixed(1),"%"]})]})})]})]})},{examCode:h?.code})})]}):(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)(E.A,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),(0,d.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No exam loaded"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Load an exam to view your statistics"})]})})]})})}var Q=c(4027),R=c(8971),S=c(5366),T=c(6943),U=c(3861),V=c(1214),W=c(2200),X=c(3872),Y=c(8007),Z=c(1391),$=c(3943),_=c(8148);let aa=(0,c(4224).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ab=i.forwardRef(({className:a,...b},c)=>(0,d.jsx)(_.b,{ref:c,className:(0,l.cn)(aa(),a),...b}));ab.displayName=_.b.displayName;var ac=c(270);let ad=i.forwardRef(({className:a,...b},c)=>(0,d.jsx)(ac.bL,{className:(0,l.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...b,ref:c,children:(0,d.jsx)(ac.zi,{className:(0,l.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ad.displayName=ac.bL.displayName;var ae=c(4622),af=c(8272),ag=c(3964),ah=c(3589);function ai({...a}){return(0,d.jsx)(ae.bL,{"data-slot":"select",...a})}function aj({...a}){return(0,d.jsx)(ae.WT,{"data-slot":"select-value",...a})}function ak({className:a,size:b="default",children:c,...e}){return(0,d.jsxs)(ae.l9,{"data-slot":"select-trigger","data-size":b,className:(0,l.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...e,children:[c,(0,d.jsx)(ae.In,{asChild:!0,children:(0,d.jsx)(af.A,{className:"size-4 opacity-50"})})]})}function al({className:a,children:b,position:c="popper",...e}){return(0,d.jsx)(ae.ZL,{children:(0,d.jsxs)(ae.UC,{"data-slot":"select-content",className:(0,l.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:c,...e,children:[(0,d.jsx)(an,{}),(0,d.jsx)(ae.LM,{className:(0,l.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:b}),(0,d.jsx)(ao,{})]})})}function am({className:a,children:b,...c}){return(0,d.jsxs)(ae.q7,{"data-slot":"select-item",className:(0,l.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",a),...c,children:[(0,d.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,d.jsx)(ae.VF,{children:(0,d.jsx)(ag.A,{className:"size-4"})})}),(0,d.jsx)(ae.p4,{children:b})]})}function an({className:a,...b}){return(0,d.jsx)(ae.PP,{"data-slot":"select-scroll-up-button",className:(0,l.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(ah.A,{className:"size-4"})})}function ao({className:a,...b}){return(0,d.jsx)(ae.wn,{"data-slot":"select-scroll-down-button",className:(0,l.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(af.A,{className:"size-4"})})}var ap=c(2369);let aq=i.forwardRef(({className:a,orientation:b="horizontal",decorative:c=!0,...e},f)=>(0,d.jsx)(ap.b,{ref:f,decorative:c,orientation:b,className:(0,l.cn)("shrink-0 bg-border","horizontal"===b?"h-[1px] w-full":"h-full w-[1px]",a),...e}));aq.displayName=ap.b.displayName;var ar=c(2736),as=c(8585);function at(){let{isSettingsModalOpen:a,closeSettingsModal:b,settings:c,updateSettings:e,resetSettings:g}=(0,x.C$)(),{shortcuts:h}=(0,as.K)(),i=(a,b)=>{e({[a]:b})};return(0,d.jsx)(ar.Y,{children:(0,d.jsx)(m,{open:a,onOpenChange:b,children:(0,d.jsxs)(p,{className:"max-w-2xl max-h-[80vh]",children:[(0,d.jsxs)(q,{children:[(0,d.jsxs)(s,{className:"flex items-center gap-2",children:[(0,d.jsx)(Q.A,{className:"h-5 w-5 text-gray-500"}),"Application Settings"]}),(0,d.jsx)(t,{children:"Customize your application preferences and behavior"})]}),(0,d.jsx)(w.F,{className:"h-[500px] w-full pr-4",children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)(I.Zp,{children:[(0,d.jsx)(I.aR,{children:(0,d.jsxs)(I.ZB,{className:"flex items-center gap-2 text-base",children:[(0,d.jsx)(R.A,{className:"h-4 w-4"}),"Appearance"]})}),(0,d.jsxs)(I.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(ab,{htmlFor:"theme",children:"Theme"}),(0,d.jsxs)(ai,{value:c.theme,onValueChange:a=>i("theme",a),children:[(0,d.jsx)(ak,{children:(0,d.jsx)(aj,{})}),(0,d.jsxs)(al,{children:[(0,d.jsx)(am,{value:"light",children:"Light"}),(0,d.jsx)(am,{value:"dark",children:"Dark"}),(0,d.jsx)(am,{value:"system",children:"System"})]})]}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"System theme automatically adapts to your system preferences"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(ab,{htmlFor:"defaultView",children:"Default view"}),(0,d.jsxs)(ai,{value:c.defaultView,onValueChange:a=>i("defaultView",a),children:[(0,d.jsx)(ak,{children:(0,d.jsx)(aj,{})}),(0,d.jsxs)(al,{children:[(0,d.jsx)(am,{value:"list",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(S.A,{className:"h-4 w-4"}),"List"]})}),(0,d.jsx)(am,{value:"card",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(T.A,{className:"h-4 w-4"}),"Cards"]})})]})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(ab,{htmlFor:"defaultSidebarPosition",children:"Default sidebar position"}),(0,d.jsxs)(ai,{value:c.defaultSidebarPosition,onValueChange:a=>i("defaultSidebarPosition",a),children:[(0,d.jsx)(ak,{children:(0,d.jsx)(aj,{})}),(0,d.jsxs)(al,{children:[(0,d.jsx)(am,{value:"hidden",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(U.A,{className:"h-4 w-4 opacity-50"}),"Hidden"]})}),(0,d.jsx)(am,{value:"collapsed",className:"hidden md:flex",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(V.A,{className:"h-4 w-4"}),"Collapsed"]})}),(0,d.jsx)(am,{value:"expanded",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(W.A,{className:"h-4 w-4"}),"Expanded"]})})]})]}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Choose the default sidebar position when the app loads",(0,d.jsx)("span",{className:"md:hidden block mt-1",children:"Note: Collapsed mode is not available on mobile devices"})]})]})]})]}),(0,d.jsxs)(I.Zp,{children:[(0,d.jsx)(I.aR,{children:(0,d.jsxs)(I.ZB,{className:"flex items-center gap-2 text-base",children:[(0,d.jsx)(U.A,{className:"h-4 w-4"}),"Display"]})}),(0,d.jsxs)(I.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"space-y-0.5",children:[(0,d.jsx)(ab,{htmlFor:"showExplanations",children:"Show answers"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Automatically shows answers after an answer"})]}),(0,d.jsx)(ad,{id:"showExplanations",checked:c.showExplanations,onCheckedChange:a=>i("showExplanations",a)})]}),(0,d.jsx)(aq,{}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"space-y-0.5",children:[(0,d.jsx)(ab,{htmlFor:"showDifficulty",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(f.A,{className:"h-4 w-4"}),"Show difficulty"]})}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Displays difficulty indicators for questions"})]}),(0,d.jsx)(ad,{id:"showDifficulty",checked:c.showDifficulty,onCheckedChange:a=>i("showDifficulty",a)})]}),(0,d.jsx)(aq,{}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"space-y-0.5",children:[(0,d.jsx)(ab,{htmlFor:"showComments",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(X.A,{className:"h-4 w-4"}),"Show comments"]})}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Displays community comments for questions"})]}),(0,d.jsx)(ad,{id:"showComments",checked:c.showComments,onCheckedChange:a=>i("showComments",a)})]})]})]}),(0,d.jsxs)(I.Zp,{children:[(0,d.jsx)(I.aR,{children:(0,d.jsxs)(I.ZB,{className:"flex items-center gap-2 text-base",children:[(0,d.jsx)(W.A,{className:"h-4 w-4"}),"Navigation"]})}),(0,d.jsxs)(I.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"space-y-0.5",children:[(0,d.jsx)(ab,{htmlFor:"autoProgress",children:"Auto progress"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Automatically moves to the next question after an answer"})]}),(0,d.jsx)(ad,{id:"autoProgress",checked:c.autoProgress,onCheckedChange:a=>i("autoProgress",a)})]}),(0,d.jsx)(aq,{}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"space-y-0.5",children:[(0,d.jsx)(ab,{htmlFor:"keyboardShortcuts",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(Y.A,{className:"h-4 w-4"}),"Keyboard shortcuts"]})}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Enables keyboard shortcuts for quick navigation"})]}),(0,d.jsx)(ad,{id:"keyboardShortcuts",checked:c.keyboardShortcuts,onCheckedChange:a=>i("keyboardShortcuts",a)})]})]})]}),(0,d.jsxs)(I.Zp,{children:[(0,d.jsx)(I.aR,{children:(0,d.jsxs)(I.ZB,{className:"flex items-center gap-2 text-base",children:[(0,d.jsx)(Z.A,{className:"h-4 w-4"}),"Audio and Feedback"]})}),(0,d.jsx)(I.Wu,{className:"space-y-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"space-y-0.5",children:[(0,d.jsx)(ab,{htmlFor:"soundEffects",children:"Sound effects"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Plays sounds during interactions (correct/incorrect answers)"})]}),(0,d.jsx)(ad,{id:"soundEffects",checked:c.soundEffects,onCheckedChange:a=>i("soundEffects",a)})]})})]}),c.keyboardShortcuts&&(0,d.jsxs)(I.Zp,{children:[(0,d.jsx)(I.aR,{children:(0,d.jsxs)(I.ZB,{className:"flex items-center gap-2 text-base",children:[(0,d.jsx)(Y.A,{className:"h-4 w-4"}),"Available Keyboard Shortcuts"]})}),(0,d.jsx)(I.Wu,{children:(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:h.map((a,b)=>(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{children:a.description}),(0,d.jsx)("code",{className:"bg-muted px-1 rounded",children:a.key})]},b))})})]})]})}),(0,d.jsxs)(r,{className:"flex justify-between",children:[(0,d.jsxs)(u.$,{variant:"outline",onClick:()=>{g()},className:"flex items-center gap-2",children:[(0,d.jsx)($.A,{className:"h-4 w-4"}),"Reset"]}),(0,d.jsx)(u.$,{onClick:b,children:"Close"})]})]})})})}var au=c(22),av=c(1303),aw=c(741),ax=c(7911),ay=c(5336),az=c(8887),aA=c(1158),aB=c(462),aC=c(6882);class aD{static cleanHtml(a){return a.replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').trim()}static processLinksForPDF(a){let b=a.replace(/<a[^>]*href=["']([^"']*)["'][^>]*>([^<]*)<\/a>/gi,'<a href="$1" target="_blank" style="color: #007bff; text-decoration: underline;">$2</a>');return b=b.replace(/(https?:\/\/[^\s<>"]{2,})/gi,a=>{let c=b.substring(0,b.indexOf(a));return c.lastIndexOf("<a")>c.lastIndexOf("</a>")?a:`<a href="${a}" target="_blank" style="color: #007bff; text-decoration: underline;">${a}</a>`})}static filterQuestions(a,b,c){let d={questions:[],indices:[]};return a.forEach((a,e)=>{let f=b[e],g=!1;switch(c){case"all":default:g=!0;break;case"favorites":g=f?.isFavorite||!1;break;case"answered":g=!!f?.userAnswer;break;case"notes":g=!!f?.notes}g&&(d.questions.push(a),d.indices.push(e))}),d}static async exportAsJSON(a,b="all"){let{questions:c,questionStates:d,examInfo:e,options:f}=a,{questions:g,indices:h}=this.filterQuestions(c,d,b),i=new Blob([JSON.stringify({metadata:{exportDate:new Date().toISOString(),examInfo:e,totalQuestions:g.length,exportOptions:f},questions:g.map((a,b)=>{let c=h[b],e=d[c],g={questionNumber:a.question_number||(c+1).toString(),question:f.includeAnswers?a.question:this.cleanHtml(a.question)};return f.includeAnswers&&(g.answers=a.answers,g.correctAnswers=a.correct_answers||(a.correct_answer?[a.correct_answer]:[]),g.mostVoted=a.most_voted||""),f.includeExplanations&&a.explanation&&(g.explanation=a.explanation),f.includeStatistics&&a.comments&&(g.comments=a.comments),e&&(g.userState={isFavorite:e.isFavorite,difficulty:e.difficulty,userAnswer:e.userAnswer,notes:e.notes}),g})},null,2)],{type:"application/json"}),j=URL.createObjectURL(i),k=document.createElement("a");k.href=j,k.download=`${e?.code||"exam"}-export.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(j)}static async exportAsCSV(a,b="all"){let{questions:c,questionStates:d,examInfo:e,options:f}=a,{questions:g,indices:h}=this.filterQuestions(c,d,b),i=[["Question Number","Question",...f.includeAnswers?["Answer A","Answer B","Answer C","Answer D","Correct Answer"]:[],...f.includeExplanations?["Explanation"]:[],...f.includeStatistics?["Comments Count"]:[],"Is Favorite","Difficulty","User Answer","Notes"].join(",")];g.forEach((a,b)=>{let c=h[b],e=d[c],g=[`"${a.question_number||(c+1).toString()}"`,`"${this.cleanHtml(a.question).replace(/"/g,'""')}"`];if(f.includeAnswers){for(let b=0;b<4;b++)g.push(`"${a.answers[b]?this.cleanHtml(a.answers[b]).replace(/"/g,'""'):""}"`);let b=a.correct_answers?.join(", ")||a.correct_answer||a.most_voted||"";g.push(`"${b}"`)}f.includeExplanations&&g.push(`"${a.explanation?this.cleanHtml(a.explanation).replace(/"/g,'""'):""}"`),f.includeStatistics&&g.push(`"${a.comments?a.comments.length:0}"`),g.push(`"${e?.isFavorite?"Yes":"No"}"`),g.push(`"${e?.difficulty||""}"`),g.push(`"${e?.userAnswer?.selectedAnswers.join(", ")||""}"`),g.push(`"${e?.notes||""}"`),i.push(g.join(","))});let j=new Blob([i.join("\n")],{type:"text/csv;charset=utf-8;"}),k=URL.createObjectURL(j),l=document.createElement("a");l.href=k,l.download=`${e?.code||"exam"}-export.csv`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(k)}static async exportAsText(a,b="all"){let{questions:c,questionStates:d,examInfo:e,options:f}=a,{questions:g,indices:h}=this.filterQuestions(c,d,b),i="";e&&(i+=`${e.name} (${e.code})
Export Date: ${new Date().toLocaleDateString()}
Total Questions: ${g.length}
${"=".repeat(60)}

`),g.forEach((a,b)=>{let c=h[b],e=d[c],g=a.question_number||(c+1).toString();i+=`Question ${g}
${"-".repeat(20)}
${this.cleanHtml(a.question)}

`,f.includeAnswers&&a.answers&&(a.answers.forEach((b,c)=>{let d=String.fromCharCode(65+c),e=a.correct_answers?.includes(d)||a.correct_answer===d||a.most_voted?.includes(d);i+=`${d}. ${this.cleanHtml(b)}${e?" ✓":""}
`}),i+="\n"),f.includeExplanations&&a.explanation&&(i+=`Explanation:
${this.cleanHtml(a.explanation)}

`),e&&(e.isFavorite&&(i+=`⭐ Favorite
`),e.difficulty&&(i+=`Difficulty: ${e.difficulty}
`),e.userAnswer&&(i+=`Your Answer: ${e.userAnswer.selectedAnswers.join(", ")}
`),e.notes&&(i+=`Notes: ${e.notes}
`),i+="\n"),f.includeStatistics&&a.comments&&a.comments.length>0&&(i+=`Comments (${a.comments.length}):
`,a.comments.forEach((a,b)=>{i+=`${b+1}. `,a.selected_answer&&(i+=`Selected answer: ${a.selected_answer}
    `),i+=`${this.cleanHtml(a.content)}
`}),i+="\n"),i+=`${"=".repeat(60)}

`});let j=new Blob([i],{type:"text/plain;charset=utf-8;"}),k=URL.createObjectURL(j),l=document.createElement("a");l.href=k,l.download=`${e?.code||"exam"}-export.txt`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(k)}static async exportAsPDF(a,b="all"){let{questions:c,questionStates:d,examInfo:e,options:f}=a,{questions:g,indices:h}=this.filterQuestions(c,d,b),i=`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <title>${e?.name||"Exam Export"}</title>
        <style>
          body { font-family: Arial, sans-serif; line-height: 1.6; margin: 40px; }
          .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
          .question { margin-bottom: 30px; page-break-inside: avoid; }
          .question-number { font-weight: bold; font-size: 18px; color: #333; }
          .question-text { margin: 10px 0; }
          .answers { margin: 15px 0; }
          .answer { margin: 5px 0; padding: 5px; }
          .correct { background-color: #d4edda; border-left: 4px solid #28a745; }
          .explanation { background-color: #f8f9fa; padding: 15px; border-left: 4px solid #007bff; margin: 10px 0; }
          .user-info { background-color: #fff3cd; padding: 10px; border-left: 4px solid #ffc107; margin: 10px 0; }
          .comments { background-color: #f8f9fa; padding: 10px; margin: 10px 0; }
          a { color: #007bff; text-decoration: underline; }
          a:hover { color: #0056b3; }
          @media print { 
            body { margin: 20px; } 
            a { color: #007bff !important; text-decoration: underline !important; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>${e?.name||"Exam Export"}</h1>
          <p><strong>Code:</strong> ${e?.code||"N/A"} | <strong>Questions:</strong> ${g.length} | <strong>Export Date:</strong> ${new Date().toLocaleDateString()}</p>
        </div>
    `;g.forEach((a,b)=>{let c=h[b],e=d[c],g=a.question_number||(c+1).toString();i+=`
        <div class="question">
          <div class="question-number">Question ${g}</div>
          <div class="question-text">${this.processLinksForPDF(a.question)}</div>
      `,f.includeAnswers&&a.answers&&(i+='<div class="answers">',a.answers.forEach((b,c)=>{let d=String.fromCharCode(65+c),e=a.correct_answers?.includes(d)||a.correct_answer===d||a.most_voted?.includes(d);i+=`<div class="answer ${e?"correct":""}">${d}. ${this.processLinksForPDF(b)}</div>`}),i+="</div>"),f.includeExplanations&&a.explanation&&(i+=`<div class="explanation"><strong>Explanation:</strong><br>${this.processLinksForPDF(a.explanation)}</div>`),e&&(e.isFavorite||e.difficulty||e.userAnswer||e.notes)&&(i+='<div class="user-info">',e.isFavorite&&(i+="<span>⭐ Favorite</span><br>"),e.difficulty&&(i+=`<strong>Difficulty:</strong> ${e.difficulty}<br>`),e.userAnswer&&(i+=`<strong>Your Answer:</strong> ${e.userAnswer.selectedAnswers.join(", ")}<br>`),e.notes&&(i+=`<strong>Notes:</strong> ${this.processLinksForPDF(e.notes)}<br>`),i+="</div>"),f.includeStatistics&&a.comments&&a.comments.length>0&&(i+=`<div class="comments"><strong>Comments (${a.comments.length}):</strong><br>`,a.comments.slice(0,5).forEach((a,b)=>{i+=`<div style="margin-bottom: 10px;">${b+1}. `,a.selected_answer&&(i+=`<strong>Selected answer: ${a.selected_answer}</strong><br>`),i+=`${this.processLinksForPDF(a.content)}</div>`}),i+="</div>"),i+="</div>"}),i+="</body></html>";let j=window.open("","_blank");j&&(j.document.write(i),j.document.close(),j.onload=()=>{setTimeout(()=>{j.print()},500)})}static async exportData(a,b,c,d="all",e){let f={questions:a.questions,questionStates:b,examInfo:e?{...e,totalQuestions:a.questions.length,exportDate:new Date().toISOString()}:void 0,options:c};switch(c.format){case"json":await this.exportAsJSON(f,d);break;case"csv":await this.exportAsCSV(f,d);break;case"txt":await this.exportAsText(f,d);break;case"pdf":await this.exportAsPDF(f,d);break;default:throw Error(`Unsupported export format: ${c.format}`)}}}let aE=[{format:"pdf",label:"PDF Document",icon:au.A,description:"Formatted document with questions and answers"},{format:"json",label:"JSON Data",icon:av.A,description:"Structured data format for developers"},{format:"txt",label:"Plain Text",icon:aw.A,description:"Simple text file format"},{format:"csv",label:"CSV Spreadsheet",icon:ax.A,description:"Tabular format for analysis"}];function aF(){let{isExportModalOpen:a,closeExportModal:b,addToast:c}=(0,x.C$)(),{currentExam:e,questionStates:g}=(0,y.s)(),[h,j]=(0,i.useState)({format:"pdf",includeAnswers:!0,includeExplanations:!0,includeStatistics:!0,filterByStatus:void 0,filterByDifficulty:void 0}),[k,n]=(0,i.useState)("all"),[o,z]=(0,i.useState)(!0),[A,B]=(0,i.useState)(!0),[C,D]=(0,i.useState)(!0),E=(a,b)=>{j(c=>({...c,[a]:b}))},F=()=>{if(!e)return 0;let a=e.questions.length;return"favorites"===k?a=Object.values(g).filter(a=>a?.isFavorite).length:"answered"===k&&(a=Object.values(g).filter(a=>a?.userAnswer).length),a},G=async()=>{if(e)try{c({type:"info",title:"Exporting...",description:`Preparing ${h.format.toUpperCase()} file with ${F()} questions`,duration:2e3});let a={name:"ServiceNow Certification Exam",code:e.questions[0]?.question_number?"EXAM":"PRACTICE"};await aD.exportData(e,g,h,k,a),c({type:"success",title:"Export completed!",description:`Successfully exported ${F()} questions as ${h.format.toUpperCase()}`,duration:4e3}),b()}catch(a){console.error("Export failed:",a),c({type:"error",title:"Export failed",description:"There was an error while exporting the data. Please try again.",duration:5e3})}};return(0,d.jsx)(ar.Y,{children:(0,d.jsx)(m,{open:a,onOpenChange:b,children:(0,d.jsxs)(p,{className:"max-w-3xl max-h-[85vh]",children:[(0,d.jsxs)(q,{children:[(0,d.jsxs)(s,{className:"flex items-center gap-2",children:[(0,d.jsx)(aA.A,{className:"h-5 w-5 text-gray-500"}),"Export Options"]}),(0,d.jsx)(t,{children:"Choose your export format and content options"})]}),(0,d.jsx)(w.F,{className:"max-h-[60vh] w-full pr-4",children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("h3",{className:"text-sm font-medium flex items-center gap-2",children:[(0,d.jsx)(au.A,{className:"h-4 w-4"}),"Export Format"]}),(0,d.jsx)("div",{className:"grid grid-cols-2 gap-3",children:aE.map(a=>{let b=a.icon,c=h.format===a.format;return(0,d.jsx)("button",{className:(0,l.cn)("p-4 border rounded-xl cursor-pointer transition-all text-left group hover:border-primary/50",c?"border-primary bg-primary/10 ring-1 ring-primary/20":"border-border hover:bg-muted/50"),onClick:()=>{var b;return b=a.format,void j(a=>({...a,format:b}))},children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:(0,l.cn)("w-10 h-10 rounded-lg flex items-center justify-center transition-colors",c?"bg-primary text-primary-foreground":"bg-muted group-hover:bg-muted"),children:(0,d.jsx)(b,{className:"h-5 w-5"})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"font-medium text-sm",children:a.label}),c&&(0,d.jsx)("div",{className:"w-2 h-2 rounded-full bg-primary"})]}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5 leading-tight",children:a.description})]})]})},a.format)})})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("h3",{className:"text-sm font-medium flex items-center gap-2",children:[(0,d.jsx)(aB.A,{className:"h-4 w-4"}),"Content Filter"]}),(0,d.jsx)("div",{className:"grid grid-cols-1 gap-3",children:[{key:"all",label:"All Questions",icon:S.A,description:"Export all available questions"},{key:"favorites",label:"Favorites Only",icon:f.A,description:"Only export favorited questions"},{key:"answered",label:"Answered Questions",icon:ay.A,description:"Questions you have answered"}].map(a=>{let b=a.icon,c=k===a.key;return(0,d.jsx)("button",{className:(0,l.cn)("p-3 border rounded-lg cursor-pointer transition-all text-left group hover:border-primary/50",c?"border-primary bg-primary/10 ring-1 ring-primary/20":"border-border hover:bg-muted/50"),onClick:()=>E(a.key,!h[a.key]),children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:(0,l.cn)("w-8 h-8 rounded-lg flex items-center justify-center transition-colors",c?"bg-primary text-primary-foreground":"bg-muted group-hover:bg-muted"),children:(0,d.jsx)(b,{className:"h-4 w-4"})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"font-medium text-sm",children:a.label}),c&&(0,d.jsx)("div",{className:"w-2 h-2 rounded-full bg-primary"})]}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5 leading-tight",children:a.description})]})]})},a.key)})})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("h3",{className:"text-sm font-medium flex items-center gap-2",children:[(0,d.jsx)(Q.A,{className:"h-4 w-4"}),"Content Options"]}),(0,d.jsx)("div",{className:"grid grid-cols-1 gap-4 p-4 border rounded-lg bg-muted/20",children:(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,d.jsxs)("div",{className:"space-y-0.5",children:[(0,d.jsx)(ab,{htmlFor:"includeQuestions",className:"text-sm font-medium",children:"Include Questions"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Include the question text"})]}),(0,d.jsx)(ad,{id:"includeQuestions",checked:o,onCheckedChange:z})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,d.jsxs)("div",{className:"space-y-0.5",children:[(0,d.jsx)(ab,{htmlFor:"includeAnswers",className:"text-sm font-medium",children:"Include Answers"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Include answer choices"})]}),(0,d.jsx)(ad,{id:"includeAnswers",checked:h.includeAnswers,onCheckedChange:a=>E("includeAnswers",a)})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,d.jsxs)("div",{className:"space-y-0.5",children:[(0,d.jsx)(ab,{htmlFor:"includeCorrect",className:"text-sm font-medium",children:"Include Correct Answers"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Mark correct answers"})]}),(0,d.jsx)(ad,{id:"includeCorrect",checked:h.includeExplanations,onCheckedChange:a=>E("includeExplanations",a)})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,d.jsxs)("div",{className:"space-y-0.5",children:[(0,d.jsx)(ab,{htmlFor:"includeDiscussions",className:"text-sm font-medium",children:"Include Discussions"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Include community comments"})]}),(0,d.jsx)(ad,{id:"includeDiscussions",checked:h.includeStatistics,onCheckedChange:a=>E("includeStatistics",a)})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,d.jsxs)("div",{className:"space-y-0.5",children:[(0,d.jsx)(ab,{htmlFor:"includeImages",className:"text-sm font-medium",children:"Include Images"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Include question images"})]}),(0,d.jsx)(ad,{id:"includeImages",checked:A,onCheckedChange:B})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,d.jsxs)("div",{className:"space-y-0.5",children:[(0,d.jsx)(ab,{htmlFor:"includeMetadata",className:"text-sm font-medium",children:"Include Metadata"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Include question metadata"})]}),(0,d.jsx)(ad,{id:"includeMetadata",checked:C,onCheckedChange:D})]})]})})]}),(0,d.jsx)("div",{className:"p-4 bg-muted/30 rounded-lg border",children:(0,d.jsx)("div",{className:"flex items-center justify-between",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,d.jsx)(aC.A,{className:"h-5 w-5 text-primary"})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{className:"text-sm font-medium",children:["Ready to export as ",h.format.toUpperCase()]}),(0,d.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,d.jsxs)(v.E,{variant:"secondary",className:"text-xs",children:[F()," questions"]}),(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:(()=>{let a=F(),b=1;h.includeAnswers&&(b+=.3),h.includeExplanations&&(b+=.2),h.includeStatistics&&(b+=.4),A&&(b+=2);let c=(.07*a*b).toFixed(1);return`~${c} MB`})()})]})]})]})})})]})}),(0,d.jsxs)(r,{className:"flex justify-between",children:[(0,d.jsx)(u.$,{variant:"outline",onClick:b,children:"Cancel"}),(0,d.jsxs)(u.$,{onClick:G,disabled:!e||0===F(),className:"flex items-center gap-2",children:[(0,d.jsx)(aA.A,{className:"h-4 w-4"}),"Export ",h.format.toUpperCase()]})]})]})})})}function aG(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(z,{}),(0,d.jsx)(P,{}),(0,d.jsx)(at,{}),(0,d.jsx)(aF,{})]})}ay.A,ay.A,az.A},6834:(a,b,c)=>{"use strict";c.d(b,{E:()=>i});var d=c(687);c(3210);var e=c(8730),f=c(4224),g=c(4780);let h=(0,f.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function i({className:a,variant:b,asChild:c=!1,...f}){let i=c?e.DX:"span";return(0,d.jsx)(i,{"data-slot":"badge",className:(0,g.cn)(h({variant:b}),a),...f})}},7141:(a,b,c)=>{"use strict";c.d(b,{C$:()=>g});var d=c(6787),e=c(9350);c(3210);let f={theme:"system",showExplanations:!1,autoProgress:!1,keyboardShortcuts:!0,soundEffects:!1,showDifficulty:!0,showComments:!1,defaultView:"card",defaultSidebarPosition:"hidden"},g=(0,d.v)()((0,e.Zr)((a,b)=>({settings:f,isSettingsModalOpen:!1,isStatisticsModalOpen:!1,isFavoritesModalOpen:!1,isExportModalOpen:!1,sidebarCollapsed:!1,sidebarVisible:!0,currentView:f.defaultView,toasts:[],updateSettings:c=>{let{settings:d}=b();a({settings:{...d,...c}}),c.theme&&b().applyTheme(),c.defaultView&&a({currentView:c.defaultView}),c.defaultSidebarPosition&&b().applyDefaultSidebarPosition(),b().addToast({type:"success",title:"Settings updated",description:"Your preferences have been saved",duration:3e3})},resetSettings:()=>{a({settings:f,currentView:f.defaultView}),b().applyTheme(),b().applyDefaultSidebarPosition(),b().addToast({type:"info",title:"Settings reset",description:"Default settings have been restored",duration:3e3})},openSettingsModal:()=>a({isSettingsModalOpen:!0}),closeSettingsModal:()=>a({isSettingsModalOpen:!1}),openStatisticsModal:()=>a({isStatisticsModalOpen:!0}),closeStatisticsModal:()=>a({isStatisticsModalOpen:!1}),openFavoritesModal:()=>a({isFavoritesModalOpen:!0}),closeFavoritesModal:()=>a({isFavoritesModalOpen:!1}),openExportModal:()=>a({isExportModalOpen:!0}),closeExportModal:()=>a({isExportModalOpen:!1}),toggleSidebar:()=>{let{sidebarCollapsed:c}=b();a({sidebarCollapsed:!c})},toggleSidebarVisibility:()=>{let{sidebarVisible:c}=b();a({sidebarVisible:!c})},setSidebarCollapsed:b=>{a({sidebarCollapsed:b})},setSidebarVisible:b=>{a({sidebarVisible:b})},setCurrentView:b=>{a({currentView:b})},toggleView:()=>{let{currentView:c}=b(),d="list"===c?"card":"list";a({currentView:d}),b().addToast({type:"info",title:`Switched to ${d} view`,description:`Questions are now displayed in ${d} format`,duration:2e3})},addToast:c=>{let{toasts:d}=b(),e={...c,id:Date.now().toString()+Math.random().toString(36).substr(2,9)};a({toasts:[...d,e]}),c.duration&&c.duration>0&&setTimeout(()=>{b().removeToast(e.id)},c.duration)},removeToast:c=>{let{toasts:d}=b();a({toasts:d.filter(a=>a.id!==c)})},clearToasts:()=>{a({toasts:[]})},getThemePreference:()=>{let{settings:a}=b();return"system"===a.theme?"light":a.theme},applyTheme:()=>{},applyDefaultSidebarPosition:()=>{let{settings:c}=b(),{defaultSidebarPosition:d}=c;switch(d){case"hidden":a({sidebarVisible:!1,sidebarCollapsed:!1});break;case"collapsed":a({sidebarVisible:!0,sidebarCollapsed:!0});break;case"expanded":a({sidebarVisible:!0,sidebarCollapsed:!1})}}}),{name:"settings-store",partialize:a=>({settings:a.settings,sidebarCollapsed:a.sidebarCollapsed,sidebarVisible:a.sidebarVisible,currentView:a.currentView})}))},7628:(a,b,c)=>{"use strict";c.d(b,{KeyboardShortcutsProvider:()=>d});let d=(0,c(1369).registerClientReference)(function(){throw Error("Attempted to call KeyboardShortcutsProvider() from the server but KeyboardShortcutsProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/johan/Developer/Worktrees/exams-viewer-beta/.conductor/belgrade/src/components/providers/KeyboardShortcutsProvider.tsx","KeyboardShortcutsProvider")},7714:(a,b,c)=>{"use strict";c.d(b,{ThemeInitializer:()=>d});let d=(0,c(1369).registerClientReference)(function(){throw Error("Attempted to call ThemeInitializer() from the server but ThemeInitializer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/johan/Developer/Worktrees/exams-viewer-beta/.conductor/belgrade/src/components/providers/ThemeInitializer.tsx","ThemeInitializer")},8283:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,6133,23)),Promise.resolve().then(c.t.bind(c,6444,23)),Promise.resolve().then(c.t.bind(c,6042,23)),Promise.resolve().then(c.t.bind(c,9477,23)),Promise.resolve().then(c.t.bind(c,9345,23)),Promise.resolve().then(c.t.bind(c,2089,23)),Promise.resolve().then(c.t.bind(c,6577,23)),Promise.resolve().then(c.t.bind(c,1307,23)),Promise.resolve().then(c.t.bind(c,4817,23))},8585:(a,b,c)=>{"use strict";c.d(b,{K:()=>f}),c(3210);var d=c(7141),e=c(6416);function f(){let{settings:a}=(0,d.C$)(),{currentExam:b,currentQuestionIndex:c,setCurrentQuestion:f,goToNextQuestion:g,goToPreviousQuestion:h,submitAnswer:i,toggleFavorite:j,setQuestionDifficulty:k}=(0,e.s)();return{shortcuts:[{key:"←/A",description:"Previous question"},{key:"→/D",description:"Next question"},{key:"F",description:"Toggle favorite"},...a.showDifficulty?[{key:"1",description:"Mark as easy"},{key:"2",description:"Mark as medium"},{key:"3",description:"Mark as hard"}]:[],{key:"Esc",description:"Close modal/Go back"}]}}},9073:(a,b,c)=>{"use strict";c.d(b,{KeyboardShortcutsProvider:()=>e});var d=c(8585);function e(){return(0,d.K)(),null}},9523:(a,b,c)=>{"use strict";c.d(b,{$:()=>i});var d=c(687);c(3210);var e=c(8730),f=c(4224),g=c(4780);let h=(0,f.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function i({className:a,variant:b,size:c,asChild:f=!1,...i}){let j=f?e.DX:"button";return(0,d.jsx)(j,{"data-slot":"button",className:(0,g.cn)(h({variant:b,size:c,className:a})),...i})}}};